class GalleryApi{static URL="https://jsonplaceholder.typicode.com/";static request(t="",e="GET",o){return fetch(GalleryApi.URL+t,{method:e,body:o?JSON.stringify(o):void 0,headers:{"Content-type":"application/json"}}).then(t=>{if(t.ok)return t.json();throw new Error("Canot execute request method",{cause:t})})}static getList(){return GalleryApi.request("albums").catch(()=>{throw new Error("Can not get list of album links!")})}static getPhotos(t){return GalleryApi.request("photos?albumId="+t).catch(()=>{throw new Error("Can not get album photos!!")})}}const PHOTOS_SELECTOR=".photos",ALBUM_LINKS_SELECTOR="#containerForAlbumLinks",ALBUM_LINK_SELECTOR=".albumLink",FIRST_ALBUM_INDEX=0,containerForAlbums=document.querySelector(ALBUM_LINKS_SELECTOR),containerForPhotos=document.querySelector(PHOTOS_SELECTOR);function onContainerForAlbumsClick(t){t=t.target.closest(ALBUM_LINK_SELECTOR).dataset.id;t&&getAlbumPhotos(t)}function init(){GalleryApi.getList().then(t=>{var e=t[FIRST_ALBUM_INDEX].id;renderAlbumLinks(t),getAlbumPhotos(e)}).catch(showError)}function renderAlbumLinks(t){t=t.map(generateAlbumLinkHTML).join("");containerForAlbums.innerHTML=t}function generateAlbumLinkHTML(t){return`
    <div class="albumLink" data-id="${t.id}">
        <a href="#" id="link">${t.title}</a>
    </div>
  `}function getAlbumPhotos(t){GalleryApi.getPhotos(t).then(renderPhotos).catch(showError)}function renderPhotos(t){t=t.map(generatePhotoHTML).join("");containerForPhotos.innerHTML=t}function generatePhotoHTML(t){return`<img src=${t.thumbnailUrl}/>`}function showError(t){alert(t.message)}console.log(containerForAlbums),containerForAlbums.addEventListener("click",this.onContainerForAlbumsClick.bind(this)),init(),console.log("ddddfd");
//# sourceMappingURL=all.js.map
